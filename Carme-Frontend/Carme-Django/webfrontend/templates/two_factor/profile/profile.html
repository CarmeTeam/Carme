{% extends "two_factor/_base.html" %}
{% load i18n %}


{% block subcontent %}
<div class="row mt-2 mb-4">
	<div class="col-12">
	  <div class="card-deck">
		  <div class="card">
		    <div class="card-header bg-light style-title"><i class="fa fa-shield" aria-hidden="true"></i>&nbsp; {% block title %}{% trans "Account Security" %}{% endblock %}</div>
		      <div class="card-body">

            {% if default_device %}
              <h5>{% trans "Change Password" %}</h5><hr>
              <p>{% blocktrans trimmed %} It is recommended to change your password in a regular basis.{% endblocktrans %}</p>
              <p>
                <a href="/carme/password/">
                  <button type="button" class="btn btn-outline-secondary custom-btn">
                    {% trans "Change password" %}
                  </button>
                </a>
              </p> 

              <h5 class="pt-4">{% trans "Get Backup Tokens" %}</h5><hr>
              <p>
                {% blocktrans trimmed %} 
                		Backup tokens can be used for login verification when your authentication
                		device is not with you. Notice that these are single-use tokens.
                {% endblocktrans %}
                {% blocktrans trimmed count counter=backup_tokens %}
                		You have only one backup token remaining.
                {% plural %}
                  You have <strong>{{ counter }}</strong> backup tokens.
                {% endblocktrans %}
														</p>  
              <p>
              		<a href="{% url 'two_factor:backup_tokens' %}">
                		<button type="button" class="btn btn-outline-secondary custom-btn">
                  		{% trans "Get backup tokens" %}
                  </button>
                </a>
              </p> 
             

              <h5 class="pt-4">{% trans "Disable Two-Factor Authentication" %}</h5><hr>
              <p>
																{% blocktrans trimmed %}
																		If you lost your authentication device, it is recommended to 
                		restart the two-factor authentication (2FA). Click on the button below to disable it. You
                		will be redirected to set a new 2FA method.
																{% endblocktrans %}
														</p>
              <p>
                <a href="{% url 'two_factor:disable' %}">
                  <button type="button" class="btn btn-outline-secondary custom-btn">
                    {% trans "Disable two-factor authentication" %}
                  </button>
                  </a>
              </p>
                
            {% else %}

              <p>
																{% blocktrans trimmed %}
																		Two-factor authentication is not enabled for your
                		account. Enable two-factor authentication for enhanced account
                		security.{% endblocktrans %}</p>
              <p>
																<a href="{% url 'two_factor:setup' %}" class="btn btn-primary">
                		{% trans "Enable Two-Factor Authentication" %}
																</a>
              </p>

            {% endif %}

								</div>
						</div>
				</div>
		</div>
</div>	

{% endblock %}

