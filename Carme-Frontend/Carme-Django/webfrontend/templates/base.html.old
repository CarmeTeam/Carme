{% comment %}
# ----------------------------------------------
# Carme
# ----------------------------------------------
# base.html - defining the basic page layout
#
# see Carme development guide for documentation:
# * Carme/Carme-Doc/DevelDoc/CarmeDevelopmentDocu.md
#
# Copyright 2019 by Fraunhofer ITWM
# License: http://open-carme.org/LICENSE.md
# Contact: info@open-carme.org
# ---------------------------------------------
{% endcomment %}

{% load static %}

<!doctype html>
<html lang="en" class="h-100">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

	<!-- Font Awesome CSS -->
	<link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">

	<!-- Custom CSS -->
	<link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">

	<!-- Page title -->
	<title>{% block title %}Fraunhofer GPU-Cluster login{% endblock %}</title>

	<!-- Favicons -->
	<link rel="apple-touch-icon" sizes="57x57" href="{% static 'favicon/apple-icon-57x57.png' %}">
	<link rel="apple-touch-icon" sizes="60x60" href="{% static 'favicon/apple-icon-60x60.png' %}">
	<link rel="apple-touch-icon" sizes="72x72" href="{% static 'favicon/apple-icon-72x72.png' %}">
	<link rel="apple-touch-icon" sizes="76x76" href="{% static 'favicon/apple-icon-76x76.png' %}">
	<link rel="apple-touch-icon" sizes="114x114" href="{% static 'favicon/apple-icon-114x114.png' %}">
	<link rel="apple-touch-icon" sizes="120x120" href="{% static 'favicon/apple-icon-120x120.png' %}">
	<link rel="apple-touch-icon" sizes="144x144" href="{% static 'favicon/apple-icon-144x144.png' %}">
	<link rel="apple-touch-icon" sizes="152x152" href="{% static 'favicon/apple-icon-152x152.png' %}">
	<link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicon/apple-icon-180x180.png' %}">
	<link rel="icon" type="image/png" sizes="192x192" href="{% static 'favicon/android-icon-192x192.png' %}">
	<link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicon/favicon-32x32.png' %}">
	<link rel="icon" type="image/png" sizes="96x96" href="{% static 'favicon/favicon-96x96.png' %}">
	<link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicon/favicon-16x16.png' %}">
</head>

<body class="d-flex flex-column h-100">
	<div class="wrapper">

   	<div class="container">

     {% if user.is_authenticated %}
						<div class="navbar-space">
							{% include "blocks/nav.html" %}
						</div>
     {% endif %}

					<main role="main" class="flex-shrink-0">
						{% include "blocks/maintenance.html" %}
     	{% block content %}{% endblock %}
					</main>
         
    </div>		

			<!-- Footer -->
			{% include "blocks/footer.html" %}
			<!-- Footer -->
               
			<!-- JavaScript -->
			<!-- jQuery first, then Popper.js, then Bootstrap JS -->
			<script src="{% static 'js/jquery.min.js' %}"></script>
			<script src="{% static 'js/popper.min.js' %}"></script>
			<script src="{% static 'js/bootstrap.min.js' %}"></script>
			<script type="text/javascript">
			if (!$) console.error('jQuery is required!');
			else {
				$(document).on('submit', 'form.ajax', function (event) {
					// source: https://www.sanwebe.com/2016/07/ajax-form-submit-examples-using-jquery
					event.preventDefault(); //prevent default action

					var post_url = $(this).attr("action"); //get form action url
					var request_method = $(this).attr("method"); //get form GET/POST method
					var form_data = $(this).serialize(); //Encode form elements for submission

					$.ajax({
						url: post_url,
						type: request_method,
						data: form_data
					}).fail(function () {
						console.error('Request to ' + post_url + ' failed. Please try again.');
					}).always(function () {
						setTimeout(function () {
						//document.location.reload();
						}, 1000);
					});
				});
			}
		</script>
		{% block javascript %} {% endblock %}

	</div>
</body>

</html>
